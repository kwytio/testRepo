name: Discord Notifications

on:
  push:
    branches: ["*"]
  pull_request:
    types: [opened, closed, reopened]
  issues:
    types: [opened, closed]
  release:
    types: [published]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        run: |
          curl -H "Content-Type: application/json" \
          -X POST \
          -d "{
            \"embeds\": [{
              \"title\": \"${{ github.event_name }} in ${{ github.repository }}\",
              \"color\": 5814783,
              \"fields\": [
                { \"name\": \"ðŸ‘¤ Actor\", \"value\": \"${{ github.actor }}\", \"inline\": true },
                { \"name\": \"ðŸŒ¿ Branch\", \"value\": \"${{ github.ref_name }}\", \"inline\": true },
                { \"name\": \"ðŸ’¬ Commit\", \"value\": \"${{ github.event.head_commit.message }}\", \"inline\": false },
                { \"name\": \"ðŸ”— Link\", \"value\": \"${{ github.event.head_commit.url }}\", \"inline\": false }
              ]
            }]
          }" \
          ${{ secrets.DISCORD_WEBHOOK }}
